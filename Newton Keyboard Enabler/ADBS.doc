Anon1+0000  000000  BRA.S      Anon1+$0004         ; 00000004+0002  000002  DC.B       $0002+0004  000004  MOVEM.L    D3-D7/A2-A4,-(A7)+0008  000008  LINK       A6,#$FEB0+000C  00000C  MOVE.W     D0,D2+000E  00000E  SUBA.W     #$000A,A7+0012  000012  MOVEA.L    A7,A0+0014  000014  _GetADBInfo+0016  000016  ADDQ.L     #$2,A7+0018  000018  MOVEA.L    $0004(A7),A0+001C  00001C  MOVE.L     A0,D0+001E  00001E  BEQ.S      Anon1+$0022         ; 00000022+0020  000020  _DisposePtr+0022  000022  MOVEQ      #50,D0+0024  000024  _NewPtr    ,Sys,Immed+0026  000026  MOVEA.L    A0,A1+0028  000028  MOVE.B     #2,$001D(A1)+002E  00002E  SUBQ.L     #$4,A7+0030  000030  MOVE.L     #'KCHR',-(A7)+0036  000036  CLR.W      -(A7)+0038  000038  MOVE.W     #$FFFF,RomMapInsert+003E  00003E  _GetResource+0040  000040  MOVE.L     (A7),-(A7)+0042  000042  BEQ        Anon1+$00EC         ; 000000EC+0046  000046  _DetachResource+0048  000048  MOVEA.L    (A7)+,A0+004A  00004A  _HLock+004C  00004C  MOVE.L     (A0),$0014(A1)+0050  000050  MOVE.L     #'KCAP',D3+0056  000056  CLR.W      -$013A(A6)+005A  00005A  CLR.W      -$0134(A6)+005E  00005E  LEA        -$0100(A6),A0+0062  000062  MOVE.L     A0,-$013E(A6)+0066  000066  MOVEQ      #0,D4+0068  000068  MOVE.W     #-1,RomMapInsert+006E  00006E  SUBQ.L     #4,A7+0070  000070  MOVE.L     #'KMAP',-(A7)+0076  000076  CLR.W      -(A7)+0078  000078  MOVE.B     D1,$0001(A7)+007C  00007C  _GetResource+007E  00007E  MOVE.L     (A7),-(A7)+0080  000080  BNE.S      Anon1+$00C0         ; 000000C0+0082  000082  ADDQ.L     #8,A7+0084  000084  TST.W      D4+0086  000086  BEQ.S      Anon1+$008C         ; 0000008C+0088  000088  MOVE.W     D4,-(A7)+008A  00008A  _CloseResFile+008C  00008C  LEA        -$0150(A6),A0+0090  000090  ADDQ.W     #1,$001C(A0)+0094  000094  _GetFileInfo+0096  000096  BMI.S      Anon1+$00AA         ; 000000AA+0098  000098  CMP.L      $0020(A0),D3+009C  00009C  BNE.S      Anon1+$008C         ; 0000008C+009E  00009E  SUBQ.L     #$2,A7+00A0  0000A0  PEA        -$0100(A6)+00A4  0000A4  _OpenResFile+00A6  0000A6  MOVE.W     (A7)+,D4+00A8  0000A8  BRA.S      Anon1+$006E         ; 0000006E+00AA  0000AA  SUBQ.L     #$4,A7+00AC  0000AC  MOVE.L     #'KMAP',-(A7)+00B2  0000B2  CLR.W      -(A7)+00B4  0000B4  MOVE.W     #$FFFF,RomMapInsert+00BA  0000BA  _GetResource+00BC  0000BC  MOVE.L     (A7),-(A7)+00BE  0000BE  BEQ.S      Anon1+$00EC         ; 000000EC+00C0  0000C0  _DetachResource+00C2  0000C2  MOVEA.L    (A7)+,A0+00C4  0000C4  _HLock+00C6  0000C6  MOVEA.L    (A0),A0+00C8  0000C8  MOVE.L     A0,(A1)+00CA  0000CA  MOVE.B     D1,KbdType+00CE  0000CE  MOVE.B     D2,KbdLast+00D2  0000D2  MOVE.W     D2,D0+00D4  0000D4  MOVE.L     A1,$0004(A7)+00D8  0000D8  LEA        Anon2,A0            ; 00000118+00DC  0000DC  MOVE.L     A0,(A7)+00DE  0000DE  MOVEA.L    A7,A0+00E0  0000E0  _SetADBInfo+00E2  0000E2  TST.W      D4+00E4  0000E4  BEQ.S      Anon1+$00EE         ; 000000EE+00E6  0000E6  MOVE.W     D4,-(A7)+00E8  0000E8  _CloseResFile+00EA  0000EA  BRA.S      Anon1+$00EE         ; 000000EE+00EC  0000EC  ADDQ.L     #8,A7+00EE  0000EE  LEA        KeyMap,A0+00F2  0000F2  MOVEQ      #0,D0+00F4  0000F4  MOVE.L     D0,(A0)++00F6  0000F6  MOVE.L     D0,(A0)++00F8  0000F8  MOVE.L     D0,(A0)++00FA  0000FA  MOVE.L     D0,(A0)++00FC  0000FC  MOVE.W     D2,D0+00FE  0000FE  LSL.W      #4,D0+0100  000100  ADDQ.W     #1,D0+0102  000102  CLR.L      -(A7)+0104  000104  CLR.L      -(A7)+0106  000106  CLR.L      -(A7)+0108  000108  MOVEA.L    A7,A0+010A  00010A  _ADBOp+010C  00010C  LEA        $000C(A7),A7+0110  000110  UNLK       A6+0112  000112  MOVEM.L    (A7)+,D3-D7/A2-A4+0116  000116  RTSAnon2+0000  000118  MOVE.L     A2,D3+0002  00011A  BEQ        Anon2+$0104         ; 0000021C+0006  00011E  MOVEA.L    A0,A1+0008  000120  LSR.W      #4,D0+000A  000122  MOVEQ      #15,D1+000C  000124  AND.L      D1,D0+000E  000126  MOVE.L     D0,D3+0010  000128  LEA        -$000A(A7),A7+0014  00012C  MOVEA.L    A7,A0+0016  00012E  _GetADBInfo+0018  000130  ROR.L      #8,D3+001A  000132  MOVE.W     (A7)+,D3+001C  000134  ADDQ.L     #8,A7+001E  000136  SWAP       D3+0020  000138  MOVE.B     1(A1),D0+0024  00013C  MOVE.B     2(A1),-(A7)+0028  000140  BSR.S      Anon2+$002C         ; 00000144+002A  000142  MOVE.B     (A7)+,D0+002C  000144  CMPI.B     #$FF,D0+0030  000148  BEQ        Anon2+$0104         ; 0000021C+0034  00014C  CLR.W      KeyLast+0038  000150  CLR.W      HiKeyLast+003C  000154  MOVEQ      #$7F,D1+003E  000156  AND.B      D0,D1				Scancode+0040  000158  MOVEA.L    (A2),A1+0042  00015A  MOVE.B     4(A1,D1.W),D3+0046  00015E  BPL.S      Anon2+$0068         ; 00000180+0048  000160  BCLR       #7,D3+004C  000164  LEA        $0084(A1),A0+0050  000168  MOVE.W     (A0)+,D2+0052  00016A  BEQ.S      Anon2+$0068         ; 00000180+0054  00016C  SUBQ.W     #1,D2+0056  00016E  CMP.B      (A0)+,D0+0058  000170  BEQ        Anon4               ; 0000022A+005C  000174  MOVE.B     1(A0),D1+0060  000178  LEA        2(A0,D1.W),A0+0064  00017C  DBF        D2,Anon2+$0056      ; 0000016E+0068  000180  MOVEQ      #0,D2+006A  000182  MOVE.B     D3,D2+006C  000184  LSR.W      #3,D2+006E  000186  TST.B      D0+0070  000188  BMI.S      Anon2+$0078         ; 00000190+0072  00018A  BSET       D3,4(A2,D2.W)+0076  00018E  BRA.S      Anon2+$0080         ; 00000198+0078  000190  BCLR       D3,4(A2,D2.W)+007C  000194  BSET       #7,D3+0080  000198  MOVE.L     D3,D0+0082  00019A  ROL.L      #8,D0+0084  00019C  CMPI.B     #14,D0+0088  0001A0  BNE.S      Anon2+$00A0         ; 000001B8+008A  0001A2  MOVE.W     $017A,D0+008E  0001A6  ANDI.W     #$807F,D0+0092  0001AA  MOVE.W     $000A(A2),D1+0096  0001AE  ANDI.W     #$7F80,D1+009A  0001B2  OR.W       D0,D1+009C  0001B4  MOVE.W     D1,$000A(A2)+00A0  0001B8  MOVEM.L    $0004(A2),D0-D2/A0+00A6  0001BE  MOVEM.L    D0-D2/A0,KeyMap+00AC  0001C4  MOVE.L     D3,D0+00AE  0001C6  LSR.L      #8,D0+00B0  0001C8  MOVE.B     D0,KbdLast+00B4  0001CC  SWAP       D0+00B6  0001CE  MOVE.B     D0,KbdType+00BA  0001D2  MOVE.W     $000A(A2),D0+00BE  0001D6  ROL.W      #1,D0+00C0  0001D8  SUBQ.L     #4,A7+00C2  0001DA  MOVE.L     $0014(A2),-(A7)	transData (KCHR-Resource)+00C6  0001DE  MOVE.W     D3,-(A7)			keycode+00C8  0001E0  MOVE.B     D0,(A7)+00CA  0001E2  PEA        $0018(A2)			state+00CE  0001E6  _KeyTrans					lStructure = KeyTrans(&transData, keycode, &state);+00D0  0001E8  MOVE.W     (A7)+,D0+00D2  0001EA  BEQ.S      Anon2+$00D6         ; 000001EE+00D4  0001EC  BSR.S      Anon2+$00DA         ; 000001F2+00D6  0001EE  MOVE.W     (A7)+,D0+00D8  0001F0  BEQ.S      Anon2+$0104         ; 0000021C+00DA  0001F2  ROR.W      #8,D0+00DC  0001F4  SWAP       D0+00DE  0001F6  MOVE.W     D3,D0+00E0  0001F8  ROL.L      #8,D0+00E2  0001FA  TST.B      D3+00E4  0001FC  BMI.S      Anon3               ; 0000021E+00E6  0001FE  MOVE.L     Ticks,D1+00EA  000202  MOVE.L     D1,KeyTime+00EE  000206  MOVE.L     D1,KeyRepTime+00F2  00020A  MOVE.W     D0,KeyLast+00F6  00020E  SWAP       D0+00F8  000210  MOVE.W     D0,HiKeyLast+00FC  000214  SWAP       D0+00FE  000216  MOVEA.W    #keyDown,A0+0102  00021A  _PostEvent+0104  00021C  RTSAnon3+0000  00021E  MOVEA.W    #keyUp,A0+0004  000222  BCLR       #15,D0+0008  000226  _PostEvent+000A  000228  RTSAnon4+0000  00022A  MOVE.B     (A0)+,D1+0002  00022C  BPL.S      Anon4+$0010         ; 0000023A+0004  00022E  MOVEQ      #0,D2+0006  000230  MOVE.B     D3,D2+0008  000232  LSR.W      #3,D2+000A  000234  BTST       D3,4(A2,D2.W)+000E  000238  SEQ        D0+0010  00023A  MOVEQ      #$0F,D2+0012  00023C  AND.B      D1,D2+0014  00023E  BEQ.S      Anon2+$0104         ; 0000021C+0016  000240  TST.B      $001C(A2)+001A  000244  BNE        Anon2+$0068         ; 00000180+001E  000248  MOVEM.L    D0/A1,-(A7)+0022  00024C  MOVE.L     A0,-(A7)+0024  00024E  CMPI.B     #12,D2+0028  000252  BGE.S      Anon4+$0030         ; 0000025A+002A  000254  PEA        Anon5               ; 000002FC+002E  000258  BRA.S      Anon4+$0034         ; 0000025E+0030  00025A  PEA        Anon4+$008A         ; 000002B4+0034  00025E  LEA        $001D(A2),A1+0038  000262  MOVE.B     (A1)+,D1+003A  000264  BEQ.S      Anon4+$0078         ; 000002A2+003C  000266  SUBQ.W     #$1,D1+003E  000268  TST.B      (A1)++0040  00026A  BEQ.S      Anon4+$004C         ; 00000276+0042  00026C  LEA        9(A1),A1+0046  000270  DBF        D1,Anon4+$003E      ; 00000268+004A  000274  BRA.S      Anon4+$0078         ; 000002A2+004C  000276  MOVE.B     D0,-$0001(A1)+0050  00027A  BSET       #$01,-$0001(A1)+0056  000280  MOVE.L     A1,-(A7)+0058  000282  MOVE.B     (A0),D1+005A  000284  CMPI.B     #$08,D1+005E  000288  BLS.S      Anon4+$0062         ; 0000028C+0060  00028A  MOVEQ      #$08,D1+0062  00028C  MOVE.B     (A0)+,(A1)++0064  00028E  DBF        D1,Anon4+$0062      ; 0000028C+0068  000292  MOVE.W     D3,D0+006A  000294  CLR.B      D0+006C  000296  LSR.W      #$4,D0+006E  000298  OR.B       D2,D0+0070  00029A  MOVEA.L    A7,A0+0072  00029C  _ADBOp+0074  00029E  BNE.S      Anon4+$0082         ; 000002AC+0076  0002A0  ADDQ.L     #$4,A7+0078  0002A2  ADDQ.L     #$8,A7+007A  0002A4  MOVEM.L    (A7)+,D0/A1+007E  0002A8  BRA        Anon2+$0068         ; 00000180+0082  0002AC  MOVEA.L    (A7)+,A1+0084  0002AE  CLR.B      -$0001(A1)+0088  0002B2  BRA.S      Anon4+$0078         ; 000002A2+008A  0002B4  MOVEA.L    A0,A1+008C  0002B6  MOVEQ      #$00,D1+008E  0002B8  MOVE.B     (A1)+,D1+0090  0002BA  MOVE.B     (A2)+,D2+0092  0002BC  CMP.B      D2,D1+0094  0002BE  BLS.S      Anon4+$0098         ; 000002C2+0096  0002C0  MOVE.B     D2,D1+0098  0002C2  TST.B      -$0001(A0)+009C  0002C6  BPL.S      Anon4+$00B0         ; 000002DA+009E  0002C8  BRA.S      Anon4+$00A4         ; 000002CE+00A0  0002CA  MOVE.B     (A2)+,D2+00A2  0002CC  OR.B       D2,(A1)++00A4  0002CE  DBF        D1,Anon4+$00A0      ; 000002CA+00A8  0002D2  BRA.S      Anon4+$00B4         ; 000002DE+00AA  0002D4  MOVE.B     (A2)+,D2+00AC  0002D6  NOT.B      D2+00AE  0002D8  AND.B      D2,(A1)++00B0  0002DA  DBF        D1,Anon4+$00AA      ; 000002D4+00B4  0002DE  CLR.L      -(A7)+00B6  0002E0  PEA        Anon5               ; 000002FC+00BA  0002E4  MOVE.L     A0,-(A7)+00BC  0002E6  MOVEA.L    A7,A0+00BE  0002E8  BCLR       #$02,D0+00C2  0002EC  _ADBOp+00C4  0002EE  BNE.S      Anon4+$00CC         ; 000002F6+00C6  0002F0  MOVEA.L    (A7),A0+00C8  0002F2  CLR.B      -$0001(A0)+00CC  0002F6  LEA        $000C(A7),A7+00D0  0002FA  RTSAnon5+0000  0002FC  CLR.B      -$0001(A0)+0004  000300  RTS